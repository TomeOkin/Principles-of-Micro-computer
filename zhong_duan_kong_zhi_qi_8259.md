# 中断控制器8259

1.编程结构
 （1）8259A共有7个可编程的寄存器，它们分别用于接受CPU送来的初始化命令字和操作命令字。
 （2）8259A由IRR（中断请求寄存器）、PR（中断优先级裁决器）、ISR（中断服务寄存器）组成，用来接收和处理从引脚IR7~IR0进入的中断。
 （3）对于8259A的中断请求寄存器IRR，当某一个IRi端呈现高电平时，则表示该端口有中断请求。此后，逻辑电路会根据中断屏蔽寄存器IMR决定是否进入中断优先级裁决器做裁决。（IRi->IMR->IRR->PR->ISR）
 中断屏蔽字OCW1中对应位为1表示被屏蔽，禁止外设向CPU发中断请求。OCW1可以多次设置。
 ISR用于记忆正在处理中的中断。
 （4）一个8259可提供8个中断类型号。

2.工作方式
 （1）优先级设置方式：全嵌套方式、特殊全嵌套方式、优先级自动循环方式、优先级特殊循环方式。
   全嵌套方式中，中断请求按优先级0~7进行处理，0级最高。当一个中断被响应时，中断类型号被放到数据总线上，当前中断服务寄存器ISR中对应位ISn被置1，然后进入中断服务程序。一般情况下（除了中断自动结束方式），在CPU中发出中断结束命令EOI之前，此位一直保持1。
 （2）屏蔽中断源的方式：普通屏蔽方式、特殊屏蔽方式。
 （3）结束中断处理的方式：中断自动结束方式、一般的中断结束方式、特殊的中断结束方式。
 （4）连接系统总线的方式：缓冲方式、非缓冲方式。
 （5）引入中断请求的方式：边沿触发方式、电平触发方式、中断查询方式。